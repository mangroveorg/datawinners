{% load i18n %}

<div id="questions-panel" class="grid_8 alpha">
    <h4>{% trans "Questions" %}</h4>

    <div class="add_question">
        <a class="add_link" href="javascript:void(0);"
    data-bind="click: DW.addNewQuestion">{% trans "Add a Question" %}</a>
    </div>

    <div class="questions" data-bind="scrollToView: enableScrollToView">
        <div class="question_list" id="que_code">
            <ol data-bind="foreach: questions, sortable: questions">
                <li data-bind="click: function() { $parent.changeSelectedQuestion($data);}, css:{question_selected:$data == $parent.selectedQuestion(),sort: true} ">
                    <a href="javascript:void(0);" data-bind="text: $data.display"></a>

                    <div class="action_bar" data-bind='css:{visible:$data == $parent.selectedQuestion()}'>
                        <a href="javascript:void(0);" class="delete_link"
                           data-bind="visible:canBeDeleted, click: $root.validateAndRemoveQuestion, clickBubble: false">{% trans "Delete" %}</a>

                        <a data-bind="visible: $index(), click: $parent.moveQuestionUp,clickBubble: false"
                           class="question_action">
                            <span class="move-text"><img class="move-image"
                                                         src="/media/images/arrow_full_up_Blue.png"/>{% trans "Move Up" %}</span>
                        </a>
                        <a class="question_action move-down"
                           data-bind="visible: $index() < $parent.questions().length-1,click: $parent.moveQuestionDown,clickBubble: false">
                            <span class="move-text"><img class="move-image"
                                                                   src="/media/images/arrow_full_down_Blue.png"/>{% trans "Move Down" %}</span>
                        </a>

                    </div>
                    <span class="selected_question_arrow" data-bind="css:{inline:$data == $parent.selectedQuestion()}"></span>
                    <div class="clear"></div>
                </li>
            </ol>
        </div>
    </div>
    <div class="add_question" data-bind="visible: questionnaireViewModel.questions().length > 0">
        <a class="add_link" href="questionnaire.html#"
        data-bind="click: DW.addNewQuestion">
        {% trans "Add a Question" %}</a>
    </div>
</div>